<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Black Hole â€” Ray-bending demo</title>

<!-- Three.js from CDN -->
<script src="https://unpkg.com/three@0.155.0/build/three.min.js"></script>

<style>
  :root {
    --panel-bg: rgba(12,12,14,0.85);
    --muted: #bdbdbd;
  }
  html,body { height:100%; margin:0; background:#000; color:#eee; font-family: Inter, system-ui, Arial, sans-serif; }
  #webgl { width:100vw; height:100vh; display:block; position:fixed; left:0; top:0; }
  #overlay { position:fixed; left:0; top:0; pointer-events:none; width:100vw; height:100vh; }
  #controls {
    position: fixed;
    left: 12px;
    top: 12px;
    background: var(--panel-bg);
    padding: 12px;
    border-radius: 8px;
    z-index: 10;
    max-width: 340px;
    font-size: 13px;
    color:var(--muted);
  }
  label { display:block; margin:6px 0 2px; color:#ddd; font-size:13px; }
  input[type=range] { width: 220px; }
  .btn { margin-top:8px; padding:6px 10px; border-radius:6px; border:none; background:#222; color:#fff; cursor:pointer; }
  .btn:hover { background:#333; }
  .row { display:flex; gap:8px; margin-top:8px; }
  footer { position: fixed; right: 12px; bottom: 12px; color:#999; font-size:12px; background:rgba(0,0,0,0.45); padding:8px 10px; border-radius:8px; }
  @media (max-width:520px) { #controls { left:50%; transform:translateX(-50%); top:8px; max-width: calc(100vw - 24px); } }
</style>
</head>
<body>
<!-- Three.js canvas -->
<div id="webgl"></div>

<!-- 2D overlay for particle drawing -->
<canvas id="overlay"></canvas>

<!-- Controls -->
<div id="controls" aria-label="Simulation controls">
  <div style="font-weight:600; color:#fff; margin-bottom:6px;">Black Hole Simulation (Three.js + GLSL)</div>

  <label>Black Hole Mass: <span id="massVal">1000</span></label>
  <input id="massSlider" type="range" min="200" max="5000" step="50" value="1000">

  <label>Speed of Light (sim): <span id="cVal">15</span></label>
  <input id="cSlider" type="range" min="5" max="60" step="1" value="15">

  <label>Time Step: <span id="dtVal">0.10</span></label>
  <input id="dtSlider" type="range" min="0.02" max="0.30" step="0.01" value="0.10">

  <label>Trail length: <span id="trailVal">300</span></label>
  <input id="trailSlider" type="range" min="20" max="2000" step="10" value="300">

  <div class="row">
    <button id="pauseBtn" class="btn">Pause</button>
    <button id="resetBtn" class="btn">Reset</button>
    <button id="spawnBtn" class="btn">Spawn Photon</button>
  </div>

  <div style="margin-top:8px; font-size:12px; color:#bbb;">
    Note: shader uses a visual ray-bending approximation; particles use Newtonian gravity for parity with the Python sim.
  </div>
</div>

<footer>Particles: <span id="count">0</span></footer>

<!-- App script -->
<script type="module" src="./app.js"></script>
</body>
</html>
